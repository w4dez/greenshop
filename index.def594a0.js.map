{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAOC,SAASC,eAAe,eAGrC,IAAIC,EAAcC,KAAKC,MAAMC,aAAaC,QAAQ,gBAAkB,GAEpE,MAAMC,EAAcP,SAASC,eAAe,kBACtCO,EAAeR,SAASC,eAAe,mBAEvCQ,EAAWT,SAASC,eAAe,eAyCzCF,EAAKW,iBAAiB,SAAUC,IAlCdC,OAAMD,IAEpB,MAAME,EAAOF,EAAEG,OAAOC,QAAQ,MACxBC,EAAML,EAAEG,OAAOC,QAAQ,UAC7B,IAAIE,EAAY,GACZJ,IACAI,EAAYJ,EAAKK,QAAQC,IAIzBH,IAEAI,QAAQC,WAAWnB,GACnBA,EAAYoB,KAAKL,GACjBZ,aAAakB,QAAQ,aAAcpB,KAAKqB,UAAUtB,IAClDc,EAAIS,UAAY,wDAGhB,EAAA5B,EAAA6B,mBAAkBxB,EAAYyB,SASlCP,QAAQC,IAAIJ,EAAU,EAYtBW,CAAUjB,EAAE,IAQhB,MAkCMkB,EAAW,CAAClB,EAAGmB,KACjB,MAAMd,EAAML,EAAEG,OAAOC,QAAQ,UAGzBC,EAAIe,UAAUC,SAAS,eAtCRpB,OAAMD,IAGzB,MAAMK,EAAML,EAAEG,OAAOC,QAAQ,UAGzBC,IACAC,UAAYD,EAAIE,QAAQC,SAElBjB,EAAYoB,KAAKL,WAGvBZ,aAAakB,QAAQ,aAAcpB,KAAKqB,UAAUtB,KAGlD,EAAAL,EAAA6B,mBAAkBxB,EAAYyB,Q,EAwB9BM,CAAetB,GAEfK,EAAIS,UAAYK,E,EAOxBrB,EAASC,iBAAiB,SAAUC,IAKhCkB,EAASlB,EAAG,oCAAoC,IAOpDH,EAAaE,iBAAiB,SAAUC,IAGpCkB,EAASlB,EAAG,uDAAuD,IAIvEJ,EAAYG,iBAAiB,SAAUC,IAEnCkB,EAASlB,EAAG,yGAAyG,IAOzHX,SAASU,iBAAiB,oBAAoB,MAC1C,EAAAb,EAAA6B,mBAAkBxB,EAAYyB,OAAO","sources":["src/js/addToLS.js"],"sourcesContent":["import { updateBasketSpans } from './cart.js';\n\nconst list = document.getElementById('js-cardList')\n\n// let cardsBasket = localStorage.getItem('productsId') || []\nlet cardsBasket = JSON.parse(localStorage.getItem('productsId')) || []\n\nconst popularList = document.getElementById('js-popularList')\nconst discountList = document.getElementById('js-discountList')\n\nconst backdrop = document.getElementById('js-backdrop')\n\nconst URL = 'https://food-boutique.b.goit.study/api/products/'\n\n\n\n\nconst addCardFn = async(e) => {\n\n    const item = e.target.closest(\"li\")\n    const btn = e.target.closest('button')\n    let idElement = ''\n    if (item) {\n        idElement = item.dataset.id\n        \n    }\n\n    if (btn) {\n\n        console.log(typeof cardsBasket)\n        cardsBasket.push(idElement)\n        localStorage.setItem('productsId', JSON.stringify(cardsBasket))\n        btn.innerHTML = '<i class=\"fa-solid fa-check\" style=\"color:#fff\"></i>'\n        \n        // Update basket span with new count\n        updateBasketSpans(cardsBasket.length)\n\n\n\n        \n\n    }\n\n    \n    console.log(idElement);\n\n\n\n    \n}\n\nlist.addEventListener('click', (e) => {\n\n    \n\n\n    addCardFn(e)\n\n})\n\n\n\n\n\nconst addCardFnModal = async(e) => {\n\n\n    const btn = e.target.closest('button')\n\n\n    if (btn) {\n        idElement = btn.dataset.id\n\n        await cardsBasket.push(idElement)\n        \n        \n        localStorage.setItem('productsId', JSON.stringify(cardsBasket))\n        \n        // Update basket span with new count\n        updateBasketSpans(cardsBasket.length)\n\n\n\n        \n\n    }\n\n    \n\n\n\n\n    \n}\n\n\n\n\nconst renderFn = (e, check) => {\n    const btn = e.target.closest(\"button\")\n\n\n    if (btn.classList.contains('addToCard')) {\n        addCardFnModal(e)\n\n        btn.innerHTML = check\n    }\n}\n\n\n\n\nbackdrop.addEventListener('click', (e) => {\n\n\n\n\n    renderFn(e, '<i class=\"fa-solid fa-check\"></i>')\n\n\n})\n\n\n\ndiscountList.addEventListener('click', (e) => {\n\n\n    renderFn(e, '<i class=\"fa-solid fa-check\" style=\"color:#fff\"></i>')\n\n})\n\npopularList.addEventListener('click', (e) => {\n\n    renderFn(e, '<i class=\"fa-solid fa-check\" style=\"color:#586f1f; width: 4px; height:5px; margin: 0 10px 10px 0\"></i>')\n\n\n})\n\n\n// Initialize basket span on page load\ndocument.addEventListener('DOMContentLoaded', () => {\n    updateBasketSpans(cardsBasket.length);\n});\n\n\n\n\n"],"names":["$ctMCH","parcelRequire","$d9a264ae1e646811$var$list","document","getElementById","$d9a264ae1e646811$var$cardsBasket","JSON","parse","localStorage","getItem","$d9a264ae1e646811$var$popularList","$d9a264ae1e646811$var$discountList","$d9a264ae1e646811$var$backdrop","addEventListener","e","async","item","target","closest","btn","idElement","dataset","id","console","log","push","setItem","stringify","innerHTML","updateBasketSpans","length","$d9a264ae1e646811$var$addCardFn","$d9a264ae1e646811$var$renderFn","check","classList","contains","$d9a264ae1e646811$var$addCardFnModal"],"version":3,"file":"index.def594a0.js.map"}