{"mappings":"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","sources":["src/js/filter.js"],"sourcesContent":["const cardContainer = document.getElementById('js-cardList');\nconst btnsBlock = document.getElementById('js-btnsBlock');\nconst leftDblBtn = document.getElementById('js-leftDblBtn');\nconst leftBtn = document.getElementById('js-leftBtn');\nconst rightBtn = document.getElementById('js-rightBtn');\nconst rightDblBtn = document.getElementById('js-rightDblBtn');\nconst searchInput = document.querySelector('.filter__search_input');\nconst categorySelect = document.querySelector('.filter__sort');\nconst sortSelect = document.querySelector('.filter__catigories');\n\nlet currentPage = 1;\nconst URL = 'https://food-boutique.b.goit.study/api/products?';\nconst CATEGORY_URL =\n  'https://food-boutique.b.goit.study/api/products/categories';\n\nimport Handlebars from 'handlebars';\nimport templateSource from '../templates/card.hbs';\n\nconst renderCards = async posts => {\n  cardContainer.innerHTML = '';\n  const renderedPosts = posts.results\n    .map(post => templateSource(post))\n    .join('');\n\n  cardContainer.innerHTML = renderedPosts;\n};\n\nconst getCards = async () => {\n  const param = new URLSearchParams({\n    keyword: searchInput.value.trim(),\n    page: currentPage,\n    limit: 9,\n    category: categorySelect.value !== 'show-all' ? categorySelect.value : '',\n    sort: sortSelect.value !== 'showAll' ? sortSelect.value : '',\n  });\n\n  try {\n    const response = await fetch(URL + param.toString());\n    const posts = await response.json();\n    if (sortSelect.value === 'byABC_Asc') {\n      posts.results.sort((a, b) => a.name.localeCompare(b.name));\n    } else if (sortSelect.value === 'byABC_Desc') {\n      posts.results.sort((a, b) => b.name.localeCompare(a.name));\n    } else if (sortSelect.value === 'byPrice_Asc') {\n      posts.results.sort((a, b) => a.price - b.price);\n    } else if (sortSelect.value === 'byPrice_Desc') {\n      posts.results.sort((a, b) => b.price - a.price);\n    } else if (sortSelect.value === 'byPopularity_Asc') {\n      posts.results.sort((a, b) => a.popularity - b.popularity);\n    } else if (sortSelect.value === 'byPopularity_Desc') {\n      posts.results.sort((a, b) => b.popularity - a.popularity);\n    }\n\n    renderCards(posts);\n    renderPagination(currentPage, posts.totalPages);\n  } catch (err) {\n    console.error(err);\n    cardContainer.innerHTML = '<p>Постів не знайдено</p>';\n  }\n};\nconst renderPagination = (currentPage, total) => {\n  btnsBlock.innerHTML = '';\n  for (let i = 1; i <= total; i++) {\n    if (\n      i === 1 ||\n      i === total ||\n      (i >= currentPage - 1 && i <= currentPage + 3)\n    ) {\n      const button = document.createElement('button');\n      button.classList.add('cards__btn');\n      button.dataset.page = i;\n      button.textContent = i;\n      if (i === currentPage) {\n        button.disabled = true;\n        button.style.background = '#6d8434';\n        button.style.color = '#e8e8e2';\n      }\n      if (i === total) button.textContent = '...';\n      btnsBlock.appendChild(button);\n    }\n  }\n  leftDblBtn.disabled = currentPage <= 2;\n  leftBtn.disabled = currentPage === 1;\n  rightBtn.disabled = currentPage === total;\n  rightDblBtn.disabled = currentPage >= total - 1;\n};\n\nbtnsBlock.addEventListener('click', e => {\n  if (e.target.classList.contains('cards__btn')) {\n    currentPage = +e.target.dataset.page;\n    getCards();\n  }\n});\n\n[leftDblBtn, leftBtn, rightBtn, rightDblBtn].forEach(btn => {\n  btn.addEventListener('click', () => {\n    currentPage +=\n      btn === leftDblBtn ? -2 : btn === leftBtn ? -1 : btn === rightBtn ? 1 : 2;\n    getCards();\n  });\n});\n\n[searchInput, categorySelect, sortSelect].forEach(input => {\n  input.addEventListener('input', () => {\n    currentPage = 1;\n    getCards();\n  });\n});\nsortSelect.addEventListener('change', () => {\n  currentPage = 1;\n  getCards();\n});\n\nconst loadCategories = async () => {\n  try {\n    const response = await fetch(CATEGORY_URL);\n    const categories = await response.json();\n    categorySelect.innerHTML =\n      '<option value=\"show-all\">Show all</option>' +\n      categories.map(cat => `<option value=\"${cat}\">${cat}</option>`).join('');\n  } catch (err) {\n    console.error('Ошибка загрузки категорий:', err);\n  }\n};\n\nloadCategories();\ngetCards();\n"],"names":["parcelRequire","$cc8167df025acb14$var$cardContainer","document","getElementById","$cc8167df025acb14$var$btnsBlock","$cc8167df025acb14$var$leftDblBtn","$cc8167df025acb14$var$leftBtn","$cc8167df025acb14$var$rightBtn","$cc8167df025acb14$var$rightDblBtn","$cc8167df025acb14$var$searchInput","querySelector","$cc8167df025acb14$var$categorySelect","$cc8167df025acb14$var$sortSelect","$cc8167df025acb14$var$currentPage","$cc8167df025acb14$var$getCards","async","param","URLSearchParams","keyword","value","trim","page","limit","category","sort","response","fetch","toString","posts","json","results","a","b","name","localeCompare","price","popularity","innerHTML","renderedPosts","map","post","$gWCdu","default","join","$cc8167df025acb14$var$renderCards","$cc8167df025acb14$var$renderPagination","totalPages","err","console","error","currentPage1","total","i","button","createElement","classList","add","dataset","textContent","disabled","style","background","color","appendChild","addEventListener","e","target","contains","forEach","btn","input","categories","cat","$cc8167df025acb14$var$loadCategories"],"version":3,"file":"index.f0b06100.js.map"}