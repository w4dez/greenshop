var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},a=e.parcelRequirea46e;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in o){var a=o[e];delete o[e];var n={id:e,exports:{}};return t[e]=n,a.call(n.exports,n,n.exports),n.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){o[e]=t},e.parcelRequirea46e=a),a("3K9yv");var n=a("gWCdu");const r=document.getElementById("js-cardList"),s=document.getElementById("js-btnsBlock"),l=document.getElementById("js-leftDblBtn"),i=document.getElementById("js-leftBtn"),c=document.getElementById("js-rightBtn"),d=document.getElementById("js-rightDblBtn"),u=document.querySelector(".filter__search_input"),p=document.querySelector(".filter__sort"),y=document.querySelector(".filter__catigories");let f=1;const m=async()=>{const e=new URLSearchParams({keyword:u.value.trim(),page:f,limit:9,category:"show-all"!==p.value?p.value:"",sort:"showAll"!==y.value?y.value:""});try{const t=await fetch("https://food-boutique.b.goit.study/api/products?"+e.toString()),o=await t.json();"byABC_Asc"===y.value?o.results.sort(((e,t)=>e.name.localeCompare(t.name))):"byABC_Desc"===y.value?o.results.sort(((e,t)=>t.name.localeCompare(e.name))):"byPrice_Asc"===y.value?o.results.sort(((e,t)=>e.price-t.price)):"byPrice_Desc"===y.value?o.results.sort(((e,t)=>t.price-e.price)):"byPopularity_Asc"===y.value?o.results.sort(((e,t)=>e.popularity-t.popularity)):"byPopularity_Desc"===y.value&&o.results.sort(((e,t)=>t.popularity-e.popularity)),(async e=>{r.innerHTML="";const t=e.results.map((e=>(0,n.default)(e))).join("");r.innerHTML=t})(o),g(f,o.totalPages)}catch(e){console.error(e),r.innerHTML="<p>Постів не знайдено</p>"}},g=(e,t)=>{s.innerHTML="";for(let o=1;o<=t;o++)if(1===o||o===t||o>=e-1&&o<=e+3){const a=document.createElement("button");a.classList.add("cards__btn"),a.dataset.page=o,a.textContent=o,o===e&&(a.disabled=!0,a.style.background="#6d8434",a.style.color="#e8e8e2"),o===t&&(a.textContent="..."),s.appendChild(a)}l.disabled=e<=2,i.disabled=1===e,c.disabled=e===t,d.disabled=e>=t-1};s.addEventListener("click",(e=>{e.target.classList.contains("cards__btn")&&(f=+e.target.dataset.page,m())})),[l,i,c,d].forEach((e=>{e.addEventListener("click",(()=>{f+=e===l?-2:e===i?-1:e===c?1:2,m()}))})),[u,p,y].forEach((e=>{e.addEventListener("input",(()=>{f=1,m()}))})),y.addEventListener("change",(()=>{f=1,m()}));(async()=>{try{const e=await fetch("https://food-boutique.b.goit.study/api/products/categories"),t=await e.json();p.innerHTML='<option value="show-all">Show all</option>'+t.map((e=>`<option value="${e}">${e}</option>`)).join("")}catch(e){console.error("Ошибка загрузки категорий:",e)}})(),m();
//# sourceMappingURL=index.f0b06100.js.map
