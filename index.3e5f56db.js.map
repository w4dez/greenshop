{"mappings":"iiBAAA,I,EAAAA,EAAAC,EAAA,S,uCAEMC,EAAOC,SAASC,eAAe,eAGjCC,EAAcC,KAAKC,MAAMC,aAAaC,QAAQ,gBAAkB,GAE9DC,EAAcP,SAASC,eAAe,kBACtCO,EAAeR,SAASC,eAAe,mBAEvCQ,EAAWT,SAASC,eAAe,eAOnCS,G,EAAYC,EAAAd,EAAA,CAAAc,EAAAC,GAAAC,MAAA,SAAAC,EAAMC,G,IAEdC,EACAC,EACFC,E,kEAFEF,EAAOD,EAAEI,OAAOC,QAAQ,MACxBH,EAAMF,EAAEI,OAAOC,QAAQ,UACzBF,EAAY,GACZF,IACAE,EAAYF,EAAKK,QAAQC,IAIzBL,IAEAM,QAAQC,SAAsB,IAAXtB,EAAW,YAAlBS,EAAAc,EAAA,CAAOvB,IACnBA,EAAYwB,KAAKR,GACjBb,aAAasB,QAAQ,aAAcxB,KAAKyB,UAAU1B,IAClDe,EAAIY,UAAY,wDAGhB,EAAAC,EAAAC,mBAAkB7B,EAAY8B,SASlCT,QAAQC,IAAIN,G,oDA3BQH,G,iCAkCxBhB,EAAKkC,iBAAiB,SAAS,SAAClB,GAK5BL,EAAUK,E,IAQd,IAAMmB,EAAc,W,MAAGvB,EAAAd,EAAA,CAAAc,EAAAC,GAAAC,MAAA,SAAAC,EAAMC,G,IAGnBE,E,uEAAAA,EAAMF,EAAEI,OAAOC,QAAQ,WAGtB,C,sBACHF,UAAYD,EAAII,QAAQC,G,SAElBpB,EAAYwB,KAAKR,W,OAGvBb,aAAasB,QAAQ,aAAcxB,KAAKyB,UAAU1B,KAGlD,EAAA4B,EAAAC,mBAAkB7B,EAAY8B,Q,2DAfTjB,G,gCAAT,GAkCdoB,EAAW,SAACpB,EAAGqB,GACjB,IAAMnB,EAAMF,EAAEI,OAAOC,QAAQ,UAGzBH,EAAIoB,UAAUC,SAAS,eACvBJ,EAAenB,GAEfE,EAAIY,UAAYO,E,EAOxB3B,EAASwB,iBAAiB,SAAS,SAAClB,GAKhCoB,EAASpB,EAAG,oC,IAOhBP,EAAayB,iBAAiB,SAAS,SAAClB,GAGpCoB,EAASpB,EAAG,uD,IAIhBR,EAAY0B,iBAAiB,SAAS,SAAClB,GAEnCoB,EAASpB,EAAG,yG,IAOhBf,SAASiC,iBAAiB,oBAAoB,YAC1C,EAAAH,EAAAC,mBAAkB7B,EAAY8B,O","sources":["src/js/addToLS.js"],"sourcesContent":["import { updateBasketSpans } from './cart.js';\n\nconst list = document.getElementById('js-cardList')\n\n// let cardsBasket = localStorage.getItem('productsId') || []\nlet cardsBasket = JSON.parse(localStorage.getItem('productsId')) || []\n\nconst popularList = document.getElementById('js-popularList')\nconst discountList = document.getElementById('js-discountList')\n\nconst backdrop = document.getElementById('js-backdrop')\n\nconst URL = 'https://food-boutique.b.goit.study/api/products/'\n\n\n\n\nconst addCardFn = async(e) => {\n\n    const item = e.target.closest(\"li\")\n    const btn = e.target.closest('button')\n    let idElement = ''\n    if (item) {\n        idElement = item.dataset.id\n        \n    }\n\n    if (btn) {\n\n        console.log(typeof cardsBasket)\n        cardsBasket.push(idElement)\n        localStorage.setItem('productsId', JSON.stringify(cardsBasket))\n        btn.innerHTML = '<i class=\"fa-solid fa-check\" style=\"color:#fff\"></i>'\n        \n        // Update basket span with new count\n        updateBasketSpans(cardsBasket.length)\n\n\n\n        \n\n    }\n\n    \n    console.log(idElement);\n\n\n\n    \n}\n\nlist.addEventListener('click', (e) => {\n\n    \n\n\n    addCardFn(e)\n\n})\n\n\n\n\n\nconst addCardFnModal = async(e) => {\n\n\n    const btn = e.target.closest('button')\n\n\n    if (btn) {\n        idElement = btn.dataset.id\n\n        await cardsBasket.push(idElement)\n        \n        \n        localStorage.setItem('productsId', JSON.stringify(cardsBasket))\n        \n        // Update basket span with new count\n        updateBasketSpans(cardsBasket.length)\n\n\n\n        \n\n    }\n\n    \n\n\n\n\n    \n}\n\n\n\n\nconst renderFn = (e, check) => {\n    const btn = e.target.closest(\"button\")\n\n\n    if (btn.classList.contains('addToCard')) {\n        addCardFnModal(e)\n\n        btn.innerHTML = check\n    }\n}\n\n\n\n\nbackdrop.addEventListener('click', (e) => {\n\n\n\n\n    renderFn(e, '<i class=\"fa-solid fa-check\"></i>')\n\n\n})\n\n\n\ndiscountList.addEventListener('click', (e) => {\n\n\n    renderFn(e, '<i class=\"fa-solid fa-check\" style=\"color:#fff\"></i>')\n\n})\n\npopularList.addEventListener('click', (e) => {\n\n    renderFn(e, '<i class=\"fa-solid fa-check\" style=\"color:#586f1f; width: 4px; height:5px; margin: 0 10px 10px 0\"></i>')\n\n\n})\n\n\n// Initialize basket span on page load\ndocument.addEventListener('DOMContentLoaded', () => {\n    updateBasketSpans(cardsBasket.length);\n});\n\n\n\n\n"],"names":["$bpxeT","parcelRequire","$fca6cdfc204b6601$var$list","document","getElementById","$fca6cdfc204b6601$var$cardsBasket","JSON","parse","localStorage","getItem","$fca6cdfc204b6601$var$popularList","$fca6cdfc204b6601$var$discountList","$fca6cdfc204b6601$var$backdrop","$fca6cdfc204b6601$var$addCardFn","$parcel$interopDefault","$2TvXO","mark","_callee","e","item","btn","idElement","target","closest","dataset","id","console","log","$l5bVx","push","setItem","stringify","innerHTML","$hHGqU","updateBasketSpans","length","addEventListener","$fca6cdfc204b6601$var$addCardFnModal","$fca6cdfc204b6601$var$renderFn","check","classList","contains"],"version":3,"file":"index.3e5f56db.js.map"}