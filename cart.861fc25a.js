!function(){function t(t,n,e,a){Object.defineProperty(t,n,{get:e,set:a,enumerable:!0,configurable:!0})}function n(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},r={},l=e.parcelRequirea46e;null==l&&((l=function(t){if(t in a)return a[t].exports;if(t in r){var n=r[t];delete r[t];var e={id:t,exports:{}};return a[t]=e,n.call(e.exports,e,e.exports),e.exports}var l=new Error("Cannot find module '"+t+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(t,n){r[t]=n},e.parcelRequirea46e=l),l.register("iE7OH",(function(n,e){var a,r;t(n.exports,"register",(function(){return a}),(function(t){return a=t})),t(n.exports,"resolve",(function(){return r}),(function(t){return r=t}));var l={};a=function(t){for(var n=Object.keys(t),e=0;e<n.length;e++)l[n[e]]=t[n[e]]},r=function(t){var n=l[t];if(null==n)throw new Error("Could not resolve bundle with id "+t);return n}})),l.register("aNJCr",(function(n,e){var a;t(n.exports,"getBundleURL",(function(){return a}),(function(t){return a=t}));var r={};function l(t){return(""+t).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}a=function(t){var n=r[t];return n||(n=function(){try{throw new Error}catch(n){var t=(""+n.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(t)return l(t[2])}return"/"}(),r[t]=n),n}})),l("iE7OH").register(JSON.parse('{"86U9d":"cart.861fc25a.js","hv8OR":"basket-img.aac02800.png","kPBWi":"cart-green.38446069.svg","aow6A":"index.313ae758.js"}'));var o,c=l("bpxeT"),s=l("2TvXO"),i=l("l5bVx"),u=n(l("4bnfH")).template({compiler:[8,">= 4.3.0"],main:function(t,e,a,r,l){var o,c=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,u="function",d=t.escapeExpression,p=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return'<li data-id="'+d((void 0===(o=null!=(o=p(a,"id")||(null!=e?p(e,"id"):e))?o:s)?"undefined":n(i)(o))===u?o.call(c,{name:"id",hash:{},data:l,loc:{start:{line:1,column:13},end:{line:1,column:19}}}):o)+'" data-count="'+d((void 0===(o=null!=(o=p(a,"count")||(null!=e?p(e,"count"):e))?o:s)?"undefined":n(i)(o))===u?o.call(c,{name:"count",hash:{},data:l,loc:{start:{line:1,column:33},end:{line:1,column:42}}}):o)+"\" class='product_item'>\n  <div class='product_img-wrapper'>\n    <img class='product_img' src='"+d((void 0===(o=null!=(o=p(a,"img")||(null!=e?p(e,"img"):e))?o:s)?"undefined":n(i)(o))===u?o.call(c,{name:"img",hash:{},data:l,loc:{start:{line:3,column:34},end:{line:3,column:41}}}):o)+"' alt='product' /></div>\n  <div class='product_info'>\n    <button class='delete_btn'>\n      <i class='fa-solid fa-xmark'></i>\n    </button>\n    <h3 class='product_title'>"+d((void 0===(o=null!=(o=p(a,"title")||(null!=e?p(e,"title"):e))?o:s)?"undefined":n(i)(o))===u?o.call(c,{name:"title",hash:{},data:l,loc:{start:{line:8,column:30},end:{line:8,column:39}}}):o)+"</h3>\n    <p class='product_information'>\n      Category: \n      <span>"+d((void 0===(o=null!=(o=p(a,"category")||(null!=e?p(e,"category"):e))?o:s)?"undefined":n(i)(o))===u?o.call(c,{name:"category",hash:{},data:l,loc:{start:{line:11,column:12},end:{line:11,column:24}}}):o)+"</span>\n      Size:\n      <span>"+d((void 0===(o=null!=(o=p(a,"size")||(null!=e?p(e,"size"):e))?o:s)?"undefined":n(i)(o))===u?o.call(c,{name:"size",hash:{},data:l,loc:{start:{line:13,column:12},end:{line:13,column:20}}}):o)+"</span>\n    </p>\n    <div class='p_price-wrapper'>\n      <p class='product_price'>"+d((void 0===(o=null!=(o=p(a,"price")||(null!=e?p(e,"price"):e))?o:s)?"undefined":n(i)(o))===u?o.call(c,{name:"price",hash:{},data:l,loc:{start:{line:16,column:31},end:{line:16,column:40}}}):o)+" </p>\n      <div class='product_counter'>\n        <button class='counter_btn minus'>-</button>\n        <span class='quantity'>1</span>\n        <button class='counter_btn plus'>+</button>\n      </div>\n    </div>\n  </div>\n</li>"},useData:!0}),d=(i=l("l5bVx"),n(l("4bnfH")).template({compiler:[8,">= 4.3.0"],main:function(t,e,a,r,l){var o,c=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,u="function",d=t.escapeExpression,p=t.lookupProperty||function(t,n){if(Object.prototype.hasOwnProperty.call(t,n))return t[n]};return'<div class="cart">\n    <div class="container">\n    <div class="cart_wrapper">  \n          <div class="counter_wrapper"> \n     \n        <img class="cart_img" src="'+d((void 0===(o=null!=(o=p(a,"greenCard")||(null!=e?p(e,"greenCard"):e))?o:s)?"undefined":n(i)(o))===u?o.call(c,{name:"greenCard",hash:{},data:l,loc:{start:{line:6,column:35},end:{line:6,column:48}}}):o)+'" alt="cart">\n \n        <p class="cart-p">CART<span class="cart_count basket_span">(0)</span></p>\n    </div>\n    <img class="basket_img" src="'+d((void 0===(o=null!=(o=p(a,"img")||(null!=e?p(e,"img"):e))?o:s)?"undefined":n(i)(o))===u?o.call(c,{name:"img",hash:{},data:l,loc:{start:{line:10,column:33},end:{line:10,column:40}}}):o)+'" alt="basket">\n<h4 class="empty_logo">Your basket is <span class="green">empty...</span></h4>\n<p class="empty_p">Go to the main page to select your favorite products and\n    add them to the cart.</p>\n</div>\n</div>\n\n</div>\n</div>  '},useData:!0}));n(l("4bnfH")).template({compiler:[8,">= 4.3.0"],main:function(t,n,e,a,r){return'<div class="products">\n  <div class="container">\n    <div class="counter_wrapper_p">\n      <img class="cart_img" src="./images/cart-green.svg" alt="cart" />\n      <p class="cart-p">CART<span class="cart_count basket_span">(0)</span></p>\n    </div>\n    <div class="basket_products">\n      <div class="delete-all">\n        Delete all\n        <button class="delete_all-btn">\n          <i class="fa-solid fa-xmark"></i>\n        </button>\n      </div>\n      <ul class="products_list">\n \n      </ul>\n    </div>\n    <div class="sum_section">\n      <h2 class="sum_title"><b>YOUR ORDER</b></h2>\n      <div class="sum_info">\n        <p class="sum_p">Total</p>\n        <p class="sum_value">sum: <span class="summary">$0</span></p>\n       \n      </div>\n      <input class="sum_input" type ="email" placeholder="Enter your email">\n      <button class="checkout">Checkout</button>\n    </div>'},useData:!0});o=l("aNJCr").getBundleURL("86U9d")+l("iE7OH").resolve("hv8OR");var p;p=l("aNJCr").getBundleURL("86U9d")+l("iE7OH").resolve("kPBWi");var m=document.querySelector(".products_list"),f=document.querySelector(".product__content"),v=document.querySelector(".summary"),g=document.querySelector(".delete_all-btn"),h=document.querySelector(".cart_count"),_=0,b=0,y=JSON.parse(localStorage.getItem("productsId"))||[];console.log(y);var x=function(){var t;0!==y.length?y.forEach((t=n(c)(n(s).mark((function t(e){var a,r,l;return n(s).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://food-boutique.b.goit.study/api/products/".concat(e));case 2:return a=t.sent,t.next=5,a.json();case 5:r=t.sent,console.log(r),l={id:r._id,img:r.img,title:r.name,price:r.price,count:1},m.insertAdjacentHTML("afterbegin",u(l)),_+=r.price,b+=1,console.log(_),v.textContent="$".concat(_.toFixed(2)),h.textContent="(".concat(b,")");case 14:case"end":return t.stop()}}),t)}))),function(n){return t.apply(this,arguments)})):m.innerHTML=""};if(m.addEventListener("click",(function(t){console.log("click",t.target);var n=t.target.closest("li");if(t.target.closest(".delete_btn")){console.log("click delete");var e=t.target.parentElement.dataset.id;y.splice(y.indexOf(e),1),localStorage.setItem("productsId",JSON.stringify(y)),n.remove();var a=n.querySelector(".product_price").textContent;_-=+a,b-=1,v.textContent="$".concat(_.toFixed(2)),h.textContent="(".concat(b,")")}var r=0;if(t.target.classList.contains("plus")){var l=t.target.closest(".product_counter").querySelector(".quantity");console.log(l);var o=+l.textContent+1,c=t.target.closest("li").querySelector(".product_price");l.textContent=o,r=+ +c.textContent*o,v.textContent=(r+(_-c.textContent)).toFixed(2),console.log(r)}if(t.target.classList.contains("minus")){var s=t.target.closest(".product_counter");quantity=s.querySelector(".quantity"),console.log(quantity),count=+quantity.textContent-1;var i=t.target.closest("li").querySelector(".product_price");v.textContent=(r-(_+i.textContent)).toFixed(2)}})),g.addEventListener("click",(function(){localStorage.removeItem("productsId"),m.innerHTML="",v.textContent="$0",_=0,b=0,h.textContent="".concat(b),0===y.length?f.innerHTML=d():x()})),0===y.length){var C={img:n(o),greenCard:n(p)};f.innerHTML=d(C)}else x()}();
//# sourceMappingURL=cart.861fc25a.js.map
