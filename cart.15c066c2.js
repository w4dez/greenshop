function t(t,e,n,l){Object.defineProperty(t,e,{get:n,set:l,enumerable:!0,configurable:!0})}function e(t){return t&&t.__esModule?t.default:t}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},l={},o={},a=n.parcelRequirea46e;null==a&&((a=function(t){if(t in l)return l[t].exports;if(t in o){var e=o[t];delete o[t];var n={id:t,exports:{}};return l[t]=n,e.call(n.exports,n,n.exports),n.exports}var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(t,e){o[t]=e},n.parcelRequirea46e=a),a.register("kyEFX",(function(e,n){var l,o;t(e.exports,"register",(function(){return l}),(function(t){return l=t})),t(e.exports,"resolve",(function(){return o}),(function(t){return o=t}));var a={};l=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)a[e[n]]=t[e[n]]},o=function(t){var e=a[t];if(null==e)throw new Error("Could not resolve bundle with id "+t);return e}})),a("kyEFX").register(JSON.parse('{"d3pfZ":"cart.15c066c2.js","kuoJo":"basket-img.aac02800.png","gKrct":"cart-green.38446069.svg","iWrSc":"index.3000d02f.js"}'));var c=e(a("3K9yv")).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,l,o){var a,c=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,r="function",i=t.escapeExpression,u=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<li data-id="'+i(typeof(a=null!=(a=u(n,"id")||(null!=e?u(e,"id"):e))?a:s)===r?a.call(c,{name:"id",hash:{},data:o,loc:{start:{line:1,column:13},end:{line:1,column:19}}}):a)+'" data-count="'+i(typeof(a=null!=(a=u(n,"count")||(null!=e?u(e,"count"):e))?a:s)===r?a.call(c,{name:"count",hash:{},data:o,loc:{start:{line:1,column:33},end:{line:1,column:42}}}):a)+"\" class='product_item'>\n  <div class='product_img-wrapper'>\n    <img class='product_img' src='"+i(typeof(a=null!=(a=u(n,"img")||(null!=e?u(e,"img"):e))?a:s)===r?a.call(c,{name:"img",hash:{},data:o,loc:{start:{line:3,column:34},end:{line:3,column:41}}}):a)+"' alt='product' /></div>\n  <div class='product_info'>\n    <button class='delete_btn'>\n      <i class='fa-solid fa-xmark'></i>\n    </button>\n    <h3 class='product_title'>"+i(typeof(a=null!=(a=u(n,"title")||(null!=e?u(e,"title"):e))?a:s)===r?a.call(c,{name:"title",hash:{},data:o,loc:{start:{line:8,column:30},end:{line:8,column:39}}}):a)+"</h3>\n    <p class='product_information'>\n      Category: \n      <span>"+i(typeof(a=null!=(a=u(n,"category")||(null!=e?u(e,"category"):e))?a:s)===r?a.call(c,{name:"category",hash:{},data:o,loc:{start:{line:11,column:12},end:{line:11,column:24}}}):a)+"</span>\n      Size:\n      <span>"+i(typeof(a=null!=(a=u(n,"size")||(null!=e?u(e,"size"):e))?a:s)===r?a.call(c,{name:"size",hash:{},data:o,loc:{start:{line:13,column:12},end:{line:13,column:20}}}):a)+"</span>\n    </p>\n    <div class='p_price-wrapper'>\n      <p class='product_price'>"+i(typeof(a=null!=(a=u(n,"price")||(null!=e?u(e,"price"):e))?a:s)===r?a.call(c,{name:"price",hash:{},data:o,loc:{start:{line:16,column:31},end:{line:16,column:40}}}):a)+" </p>\n      <div class='product_counter'>\n        <button class='counter_btn minus'>-</button>\n        <span class='quantity'>1</span>\n        <button class='counter_btn plus'>+</button>\n      </div>\n    </div>\n  </div>\n</li>"},useData:!0});var s=e(a("3K9yv")).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,l,o){var a,c=null!=e?e:t.nullContext||{},s=t.hooks.helperMissing,r="function",i=t.escapeExpression,u=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<div class="cart">\n    <div class="container">\n    <div class="cart_wrapper">  \n          <div class="counter_wrapper"> \n     \n        <img class="cart_img" src="'+i(typeof(a=null!=(a=u(n,"greenCard")||(null!=e?u(e,"greenCard"):e))?a:s)===r?a.call(c,{name:"greenCard",hash:{},data:o,loc:{start:{line:6,column:35},end:{line:6,column:48}}}):a)+'" alt="cart">\n \n        <p class="cart-p">CART<span class="cart_count basket_span">(0)</span></p>\n    </div>\n    <img class="basket_img" src="'+i(typeof(a=null!=(a=u(n,"img")||(null!=e?u(e,"img"):e))?a:s)===r?a.call(c,{name:"img",hash:{},data:o,loc:{start:{line:10,column:33},end:{line:10,column:40}}}):a)+'" alt="basket">\n<h4 class="empty_logo">Your basket is <span class="green">empty...</span></h4>\n<p class="empty_p">Go to the main page to select your favorite products and\n    add them to the cart.</p>\n</div>\n</div>\n\n</div>\n</div>  '},useData:!0});var r;e(a("3K9yv")).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,l,o){return'<div class="products">\n  <div class="container">\n    <div class="counter_wrapper_p">\n      <img class="cart_img" src="./images/cart-green.svg" alt="cart" />\n      <p class="cart-p">CART<span class="cart_count basket_span">(0)</span></p>\n    </div>\n    <div class="basket_products">\n      <div class="delete-all">\n        Delete all\n        <button class="delete_all-btn">\n          <i class="fa-solid fa-xmark"></i>\n        </button>\n      </div>\n      <ul class="products_list">\n \n      </ul>\n    </div>\n    <div class="sum_section">\n      <h2 class="sum_title"><b>YOUR ORDER</b></h2>\n      <div class="sum_info">\n        <p class="sum_p">Total</p>\n        <p class="sum_value">sum: <span class="summary">$0</span></p>\n       \n      </div>\n      <input class="sum_input" type ="email" placeholder="Enter your email">\n      <button class="checkout">Checkout</button>\n    </div>'},useData:!0});r=new URL(a("kyEFX").resolve("kuoJo"),import.meta.url).toString();var i;i=new URL(a("kyEFX").resolve("gKrct"),import.meta.url).toString();const u=document.querySelector(".products_list"),p=document.querySelector(".product__content"),d=document.querySelector(".summary"),m=document.querySelector(".delete_all-btn"),g=document.querySelector(".cart_count");let f=0,y=0;const v=JSON.parse(localStorage.getItem("productsId"))||[];console.log(v);const _=()=>{0!==v.length?v.forEach((async t=>{const e=await fetch(`https://food-boutique.b.goit.study/api/products/${t}`),n=await e.json();console.log(n);const l={id:n._id,img:n.img,title:n.name,price:n.price,count:1};u.insertAdjacentHTML("afterbegin",c(l)),f+=n.price,y+=1,console.log(f),d.textContent=`$${f.toFixed(2)}`,g.textContent=`(${y})`})):u.innerHTML=""};if(u.addEventListener("click",(t=>{console.log("click",t.target);const e=t.target.closest("li");if(t.target.closest(".delete_btn")){console.log("click delete");const n=t.target.parentElement.dataset.id;v.splice(v.indexOf(n),1),localStorage.setItem("productsId",JSON.stringify(v)),e.remove();const l=e.querySelector(".product_price").textContent;f-=+l,y-=1,d.textContent=`$${f.toFixed(2)}`,g.textContent=`(${y})`}let n=0;if(t.target.classList.contains("plus")){let e=t.target.closest(".product_counter").querySelector(".quantity");console.log(e);let l=+e.textContent+1;const o=t.target.closest("li").querySelector(".product_price");e.textContent=l,n=+ +o.textContent*l,d.textContent=(n+(f-o.textContent)).toFixed(2),console.log(n)}if(t.target.classList.contains("minus")){const e=t.target.closest(".product_counter");quantity=e.querySelector(".quantity"),console.log(quantity),count=+quantity.textContent-1;const l=t.target.closest("li").querySelector(".product_price");d.textContent=(n-(f+l.textContent)).toFixed(2)}})),m.addEventListener("click",(()=>{localStorage.removeItem("productsId"),u.innerHTML="",d.textContent="$0",f=0,y=0,g.textContent=`${y}`,0===v.length?p.innerHTML=s():_()})),0===v.length){const t={img:e(r),greenCard:e(i)};p.innerHTML=s(t)}else _();
//# sourceMappingURL=cart.15c066c2.js.map
