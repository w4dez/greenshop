!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},o=t.parcelRequirea46e;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},t.parcelRequirea46e=o);var a=o("bpxeT"),u=o("2TvXO");o("4bnfH");var c,s=o("fk3mF"),i=document.getElementById("js-cardList"),l=document.getElementById("js-btnsBlock"),d=document.getElementById("js-leftDblBtn"),p=document.getElementById("js-leftBtn"),f=document.getElementById("js-rightBtn"),v=document.getElementById("js-rightDblBtn"),y=document.querySelector(".filter__search_input"),m=document.querySelector(".filter__sort"),b=document.querySelector(".filter__catigories"),g=1,h=(c=e(a)(e(u).mark((function t(n){var r;return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.innerHTML="",r=n.results.map((function(e){return(0,s.default)(e)})).join(""),i.innerHTML=r;case 3:case"end":return e.stop()}}),t)}))),function(e){return c.apply(this,arguments)}),_=function(){var t=e(a)(e(u).mark((function t(){var n,r,o;return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new URLSearchParams({keyword:y.value.trim(),page:g,limit:9,category:"show-all"!==m.value?m.value:"",sort:"showAll"!==b.value?b.value:""}),e.prev=1,e.next=4,fetch("https://food-boutique.b.goit.study/api/products?"+n.toString());case 4:return r=e.sent,e.next=7,r.json();case 7:o=e.sent,"byABC_Asc"===b.value?o.results.sort((function(e,t){return e.name.localeCompare(t.name)})):"byABC_Desc"===b.value?o.results.sort((function(e,t){return t.name.localeCompare(e.name)})):"byPrice_Asc"===b.value?o.results.sort((function(e,t){return e.price-t.price})):"byPrice_Desc"===b.value?o.results.sort((function(e,t){return t.price-e.price})):"byPopularity_Asc"===b.value?o.results.sort((function(e,t){return e.popularity-t.popularity})):"byPopularity_Desc"===b.value&&o.results.sort((function(e,t){return t.popularity-e.popularity})),h(o),w(g,o.totalPages),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),console.error(e.t0),i.innerHTML="<p>Постів не знайдено</p>";case 17:case"end":return e.stop()}}),t,null,[[1,13]])})));return function(){return t.apply(this,arguments)}}(),w=function(e,t){l.innerHTML="";for(var n=1;n<=t;n++)if(1===n||n===t||n>=e-1&&n<=e+3){var r=document.createElement("button");r.classList.add("cards__btn"),r.dataset.page=n,r.textContent=n,n===e&&(r.disabled=!0,r.style.background="#6d8434",r.style.color="#e8e8e2"),n===t&&(r.textContent="..."),l.appendChild(r)}d.disabled=e<=2,p.disabled=1===e,f.disabled=e===t,v.disabled=e>=t-1};l.addEventListener("click",(function(e){e.target.classList.contains("cards__btn")&&(g=+e.target.dataset.page,_())})),[d,p,f,v].forEach((function(e){e.addEventListener("click",(function(){g+=e===d?-2:e===p?-1:e===f?1:2,_()}))})),[y,m,b].forEach((function(e){e.addEventListener("input",(function(){g=1,_()}))})),b.addEventListener("change",(function(){g=1,_()}));var x=function(){var t=e(a)(e(u).mark((function t(){var n,r;return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://food-boutique.b.goit.study/api/products/categories");case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,m.innerHTML='<option value="show-all">Show all</option>'+r.map((function(e){return'<option value="'.concat(e,'">').concat(e,"</option>")})).join(""),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Ошибка загрузки категорий:",e.t0);case 13:case"end":return e.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}();x(),_()}();
//# sourceMappingURL=index.9abfdb79.js.map
